<!DOCTYPE html>
<html>

<head>
  <link data-require="normalize@6.0.0" data-semver="6.0.0" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/6.0.0/normalize.min.css" />
  <link rel="stylesheet" href="style.css" />
  <script src="script.js"></script>
</head>

<body>
  <header>
    <h1>
      <a href="index.html">
        Hacker News
        <img src="https://news.ycombinator.com/y18.gif" alt=" " />
      </a>
    </h1>
    <nav>
      <ul>
        <li class="separator"><a href="#">new</a></li>
        <li class="separator"><a href="#">threads</a></li>
        <li class="separator"><a href="#">comments</a></li>
        <li class="separator"><a href="#">show</a></li>
        <li class="separator"><a href="#">ask</a></li>
        <li class="separator"><a href="#">jobs</a></li>
        <li><a href="#">submit</a></li>
      </ul>
    </nav>
    <aside>
      <p>
        <a href="#">username<span title="you have 0 points">&#32;(0)</span></a>
        <span class="separator"></span>
        <a href="#" id="logout">Logout</a>
      </p>
    </aside>
  </header>
  <main>
    <template>


        comments: {{comments}} <br />
        comments_count: {{comments_count}} <br />
        domain: {{domain}} <br />
        id: {{id}} <br />
        points: {{points}} <br />
        time: {{time}} <br />
        time_ago: {{time_ago}} <br />
        title: {{title}} <br />
        type: {{type}} <br />
        url: {{url}} <br />
        user: {{user}} <br />

    </template>

  </main>
  <hr />
  <footer>
    <form action="#">
      <label>
        Search:&#32;
        <input type="search" name="q" autocorrect="off" spellcheck="false" autocapitalize="off" autocomplete="false" placeholder="Search in articles..." max="17">
      </label>
    </form>
    <hr />
    <ul>
      <li class="separator"><a href="#">Guidelines</a></li>
      <li class="separator"><a href="#">FAQ</a></li>
      <li class="separator"><a href="#">Support</a></li>
      <li class="separator"><a href="#">API</a></li>
      <li class="separator"><a href="#">Security</a></li>
      <li class="separator"><a href="#">Lists</a></li>
      <li class="separator"><a href="#">Bookmarklet</a></li>
      <li class="separator"><a href="#">DMCA</a></li>
      <li class="separator"><a href="#">Apply to YC</a></li>
      <li><a href="#">Contact</a></li>
    </ul>
  </footer>

  <script id="itemDataScript"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mustache.js/2.3.0/mustache.min.js"></script>
  <script>
    function renderItem(article) {
      console.log('render', article);

      var templateEl = document.querySelectorAll('template')[0];
      var template = templateEl.innerHTML;
      Mustache.parse(template);

      var rendered = Mustache.render(template, article);

      templateEl.insertAdjacentHTML( 'afterEnd', rendered);
    }

    var fetchItemData = function fetchItemData() {
      var q = document.location.href.split('?')[1];
      var id = /id=(\d+)/ig.exec(q)[1];
      document.getElementById('itemDataScript').setAttribute('src', 'http://node-hnapi.herokuapp.com/item/' + id + '?callback=renderItem');
    }();
  </script>

</body>

</html>
